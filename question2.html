<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Index</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="response-container">
        <h1>Question :</h1>
        <p>Avez vous fait une activité avant de venir</p>
        <div class="button-container">
            <button id="btn-velo" class="choice-button" onclick="saveResponse('velo')">Vélo</button>
            <button id="btn-marche" class="choice-button" onclick="saveResponse('marche')">Marche</button>
            <button id="btn-sport" class="choice-button" onclick="saveResponse('sport')">Sport</button>
            <button id="btn-rien" class="choice-button" onclick="saveResponse('rien')">Non</button>
        </div>
    </div>
    <div class="next-container">
        <button class="back-button" onclick="window.location.href='question.html'">Retour en arrière</button>
    </div>
    
    <div class="next-container">    
        <button id="nextButton" class="next-button" onclick="goToReponse()" disabled>Question Suivante</button>
    </div>

    <script>
        var reponseA = []; 
    
        function saveResponse(reponseAValue) {
            var tab = reponseA.indexOf(reponseAValue);
            if (tab > -1) {
                reponseA.splice(index, 0);
                document.getElementById('btn-' + reponseAValue).classList.remove('selected');
            } else {
                reponseA.push(reponseAValue);
                document.getElementById('btn-' + reponseAValue).classList.add('selected');
            }
    

            document.getElementById('nextButton').disabled = reponseA.length === 0;
            document.getElementById('btn-rien').disabled = reponseA.length >=1;
        }
    
        function goToReponse() {
            const reponsesA = reponseA.join(',');
            if (reponsesA.length > 0) {
                const urlParams = new URLSearchParams(window.location.search);
                const reponseSexe = urlParams.get('reponseSexe');
                const reponseBE = urlParams.get('reponseBE');
                window.location.href = 'reponse.php?reponseSexe=' + encodeURIComponent(reponseSexe) + '&reponseBE=' + encodeURIComponent(reponseBE) + '&reponseA=' + encodeURIComponent(reponsesA);
            }
        }
    </script>
    

</body>
</html>
